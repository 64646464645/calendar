{"version":3,"file":"calendar.js","sources":["pages/calendar/calendar.vue","D:/HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2FsZW5kYXIvY2FsZW5kYXIudnVl"],"sourcesContent":["<template>\r\n  <view class=\"calendar-container\">\r\n    <!-- 视图切换 -->\r\n    <view class=\"view-selector\">\r\n      <picker mode=\"selector\" :range=\"viewOptions\" @change=\"onViewChange\">\r\n        <view class=\"picker-label\">{{ currentViewLabel }} ▼</view>\r\n      </picker>\r\n    </view>\r\n\r\n    <!-- 月视图 -->\r\n    <view v-if=\"viewMode === 'month'\">\r\n      <MonthView :events=\"events\" @refresh=\"loadEvents\" />\r\n    </view>\r\n\r\n    <!-- 周视图 -->\r\n    <view v-else-if=\"viewMode === 'week'\">\r\n      <WeekView :events=\"events\" @refresh=\"loadEvents\" />\r\n    </view>\r\n\r\n    <!-- 日视图 -->\r\n    <view v-else>\r\n      <DayView :events=\"events\" @refresh=\"loadEvents\" />\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { getEvents } from '../../api/event.js';\r\nimport MonthView from '../../components/MonthView.vue';\r\nimport WeekView from '../../components/WeekView.vue';\r\nimport DayView from '../../components/DayView.vue';\r\n\r\nexport default {\r\n  components: {\r\n    MonthView,\r\n    WeekView,\r\n    DayView\r\n  },\r\n  data() {\r\n    return {\r\n      viewMode: 'month',\r\n      events: [],\r\n      viewOptions: ['月视图', '周视图', '日视图']\r\n    };\r\n  },\r\n  computed: {\r\n    currentViewLabel() {\r\n      const labels = { month: '月视图', week: '周视图', day: '日视图' };\r\n      return labels[this.viewMode];\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.loadEvents();\r\n  },\r\n  methods: {\r\n    onViewChange(e) {\r\n      const views = ['month', 'week', 'day'];\r\n      this.viewMode = views[e.detail.value];\r\n    },\r\n    async loadEvents() {\r\n      try {\r\n        const data = await getEvents();\r\n        this.events = data;\r\n      } catch (err) {\r\n        console.error(\"加载日程失败：\", err);\r\n        uni.showToast({\r\n          title: '加载日程失败',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-container {\r\n  padding: 10px;\r\n}\r\n\r\n.view-selector {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.picker-label {\r\n  padding: 8px 16px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 20px;\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/16691/Desktop/calendar/calendar-uniapp/pages/calendar/calendar.vue'\nwx.createPage(MiniProgramPage)"],"names":["getEvents","uni"],"mappings":";;;AA4BA,kBAAkB,MAAW;AAC7B,iBAAiB,MAAW;AAC5B,gBAAgB,MAAW;AAE3B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,MACV,QAAQ,CAAE;AAAA,MACV,aAAa,CAAC,OAAO,OAAO,KAAK;AAAA;EAEpC;AAAA,EACD,UAAU;AAAA,IACR,mBAAmB;AACjB,YAAM,SAAS,EAAE,OAAO,OAAO,MAAM,OAAO,KAAK;AACjD,aAAO,OAAO,KAAK,QAAQ;AAAA,IAC7B;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,WAAU;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,IACP,aAAa,GAAG;AACd,YAAM,QAAQ,CAAC,SAAS,QAAQ,KAAK;AACrC,WAAK,WAAW,MAAM,EAAE,OAAO,KAAK;AAAA,IACrC;AAAA,IACD,MAAM,aAAa;AACjB,UAAI;AACF,cAAM,OAAO,MAAMA,UAAAA;AACnB,aAAK,SAAS;AAAA,MACd,SAAO,KAAK;AACZC,sBAAA,MAAA,MAAA,SAAA,qCAAc,WAAW,GAAG;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEA,GAAG,WAAW,eAAe;"}